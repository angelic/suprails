#! /usr/bin/env ruby
#
# Suprails: The customizable wrapper to the rails command
#
# Copyright 2008 Bradley Grzesiak
# This file is part of Suprails.
# 
#     Suprails is free software: you can redistribute it and/or modify
#     it under the terms of the GNU General Public License as published by
#     the Free Software Foundation, either version 3 of the License, or
#     (at your option) any later version.
# 
#     Suprails is distributed in the hope that it will be useful,
#     but WITHOUT ANY WARRANTY; without even the implied warranty of
#     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#     GNU General Public License for more details.
# 
#     You should have received a copy of the GNU General Public License
#     along with Suprails.  If not, see <http://www.gnu.org/licenses/>.
#

require File.dirname(__FILE__) + '/../lib/suprails'

opts = ARGV

suprails = Suprails.new
execute_rails = false
interactive_mode = false
help_mode = false

if opts.length == 0
  interactive_mode = true
else
  if ['-h', '--help'].include?(opts[0])
    help_mode = true
  else
    suprails = Suprails.new opts.shift
    execute_rails = true
  end
end

puts
puts 'Behold, this is Suprails'

if execute_rails
  suprails.create_project
elsif interactive_mode
  #TODO: write interactive mode
  puts 'interactive mode not yet implemented, quitting'
elsif help_mode
  #TODO: write help screen
  puts 'no help'
end